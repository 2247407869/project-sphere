# LobeChat 记忆功能使用指南

## 🎉 恭喜！MCP配置已完成

你的Graphiti记忆系统已经成功集成到LobeChat中，现在可以开始使用具有记忆功能的AI助手了！

## 📋 快速开始

### 1. 访问LobeChat
打开浏览器访问：http://localhost:3210

### 2. 配置API密钥
- 在LobeChat界面中，找到设置页面
- 添加你的DeepSeek API密钥：`sk-8bd504b2c56e4d9dbb78fac111ac9565`
- 设置API端点为：`https://api.deepseek.com/v1`

### 3. 验证MCP插件状态
- 在LobeChat中，查看插件设置
- 确认"graphiti-memory"插件已启用
- 状态应该显示为"已连接"

## 🧠 记忆功能使用方法

### 自动记忆
当你与AI助手对话时，系统会自动：
- 记录重要的对话内容
- 保存你的偏好和习惯
- 存储有用的信息片段

### 手动添加记忆
你可以明确要求AI助手记住某些信息：
```
请记住：我喜欢简洁的代码风格，偏好使用TypeScript而不是JavaScript
```

### 搜索记忆
你可以要求AI助手回忆相关信息：
```
你还记得我之前提到的编程偏好吗？
```

### 查看所有记忆
```
请列出你记住的关于我的所有信息
```

## 🔧 可用的记忆工具

系统提供了以下MCP工具：

1. **add_episode** - 添加新的记忆片段
2. **search** - 搜索相关记忆
3. **get_episodes** - 获取所有记忆列表

## 💡 使用技巧

### 1. 明确的记忆请求
```
请记住我的工作信息：
- 职业：Java高级开发工程师
- 经验：7年
- 专长：Spring Boot、微服务架构
```

### 2. 上下文搜索
```
根据我之前提到的技术栈，推荐一些学习资源
```

### 3. 偏好设置
```
请记住我的沟通偏好：
- 喜欢详细的技术解释
- 偏好中文交流
- 需要实际的代码示例
```

## 🚀 高级功能

### 持久化存储
- 所有记忆都存储在FalkorDB图数据库中
- 重启服务后记忆依然保留
- 支持复杂的关联查询

### 智能搜索
- 基于语义相似度的搜索
- 支持模糊匹配
- 自动关联相关记忆

## 🔍 故障排除

### 如果记忆功能不工作：

1. **检查服务状态**
   ```bash
   cd project_code/graphiti-demo
   node verify-mcp-config.js
   ```

2. **重启服务**
   ```bash
   docker-compose restart graphiti-mcp
   ```

3. **查看日志**
   ```bash
   docker-compose logs graphiti-mcp
   ```

### 常见问题

**Q: 工具调用返回"response.undefined"**
A: 这通常是响应格式问题，已在最新版本中修复。重启MCP服务器即可。

**Q: 插件显示"未连接"**
A: 检查MCP服务器是否正常运行，确认URL配置正确。

**Q: 记忆搜索没有结果**
A: 确保已经添加了一些记忆内容，搜索关键词要匹配记忆内容。

## 📊 系统状态

当前配置：
- ✅ FalkorDB数据库：运行中
- ✅ MCP服务器：运行中 (模拟模式)
- ✅ LobeChat：运行中
- ✅ 记忆功能：已启用

## 🎯 下一步

现在你可以：
1. 开始与具有记忆功能的AI助手对话
2. 让AI记住你的个人信息和偏好
3. 享受更个性化的AI交互体验

祝你使用愉快！🎉